// -------------------------------------------------------------
// 
// File Name: hdl_prj\hdlsrc\controllerPeripheralHdlAdi\controllerHdl\controllerHdl_Rotor_Acceleration_To_Velocity.v
// Created: 2014-09-08 14:12:04
// 
// Generated by MATLAB 8.2 and HDL Coder 3.3
// 
// -------------------------------------------------------------


// -------------------------------------------------------------
// 
// Module: controllerHdl_Rotor_Acceleration_To_Velocity
// Source Path: controllerHdl/Field_Oriented_Control/Open_Loop_Control/Generate_Position_And_Voltage_Ramp/Rotor_Acceleration_To_Velocity
// Hierarchy Level: 5
// 
// -------------------------------------------------------------

`timescale 1 ns / 1 ns

module controllerHdl_Rotor_Acceleration_To_Velocity
          (
           CLK_IN,
           reset,
           enb_1_2000_0,
           Reset_1,
           Vel_Target,
           RV
          );


  input   CLK_IN;
  input   reset;
  input   enb_1_2000_0;
  input   Reset_1;
  input   signed [17:0] Vel_Target;  // sfix18_En8
  output  signed [31:0] RV;  // sfix32_En22


  wire signed [31:0] Reset_Delay_out1;  // sfix32_En22
  wire signed [17:0] Set_Acceleration_out1;  // sfix18_En10
  wire signed [35:0] Gain_out1;  // sfix36_En41
  wire signed [31:0] Convert_out1;  // sfix32_En22
  wire signed [32:0] Sum_add_cast;  // sfix33_En22
  wire signed [32:0] Sum_add_cast_1;  // sfix33_En22
  wire signed [32:0] Sum_add_temp;  // sfix33_En22
  wire signed [31:0] Sum_out1;  // sfix32_En22

  // Rotor Acceleration To Velocity


  // <S22>/Set_Acceleration
  controllerHdl_Set_Acceleration   u_Set_Acceleration   (.CLK_IN(CLK_IN),
                                                         .reset(reset),
                                                         .enb_1_2000_0(enb_1_2000_0),
                                                         .v_target(Vel_Target),  // sfix18_En8
                                                         .v_current(Reset_Delay_out1),  // sfix32_En22
                                                         .a(Set_Acceleration_out1)  // sfix18_En10
                                                         );

  // <S22>/Gain
  assign Gain_out1 = 85899 * Set_Acceleration_out1;



  // <S22>/Convert
  assign Convert_out1 = {{15{Gain_out1[35]}}, Gain_out1[35:19]};



  // <S22>/Sum
  assign Sum_add_cast = Convert_out1;
  assign Sum_add_cast_1 = Reset_Delay_out1;
  assign Sum_add_temp = Sum_add_cast + Sum_add_cast_1;
  assign Sum_out1 = ((Sum_add_temp[32] == 1'b0) && (Sum_add_temp[31] != 1'b0) ? 32'sb01111111111111111111111111111111 :
              ((Sum_add_temp[32] == 1'b1) && (Sum_add_temp[31] != 1'b1) ? 32'sb10000000000000000000000000000000 :
              $signed(Sum_add_temp[31:0])));



  // <S22>/Reset_Delay
  controllerHdl_Reset_Delay_block   u_Reset_Delay   (.CLK_IN(CLK_IN),
                                                     .reset(reset),
                                                     .enb_1_2000_0(enb_1_2000_0),
                                                     .Reset_1(Reset_1),
                                                     .In(Sum_out1),  // sfix32_En22
                                                     .Out(Reset_Delay_out1)  // sfix32_En22
                                                     );

  assign RV = Reset_Delay_out1;

endmodule  // controllerHdl_Rotor_Acceleration_To_Velocity

